<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>NOIR호텔 관리자 페이지</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Google Fonts
		============================================ -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,700,900" rel="stylesheet">
    <!-- Bootstrap CSS
		============================================ -->
    <link rel="stylesheet" href="/admin_common/css/bootstrap.min.css">
    <!-- Bootstrap CSS
		============================================ -->
    <link rel="stylesheet" href="/admin_common/css/font-awesome.min.css">
	<!-- nalika Icon CSS
		============================================ -->
    <link rel="stylesheet" href="/admin_common/css/nalika-icon.css">
    <!-- owl.carousel CSS
		============================================ -->
    <link rel="stylesheet" href="/admin_common/css/owl.carousel.css">
    <link rel="stylesheet" href="/admin_common/css/owl.theme.css">
    <link rel="stylesheet" href="/admin_common/css/owl.transitions.css">
    <!-- animate CSS
		============================================ -->
    <link rel="stylesheet" href="/admin_common/css/animate.css">
    <!-- normalize CSS
		============================================ -->
    <link rel="stylesheet" href="/admin_common/css/normalize.css">
    <!-- meanmenu icon CSS
		============================================ -->
    <link rel="stylesheet" href="/admin_common/css/meanmenu.min.css">
    <!-- main CSS
		============================================ -->
    <link rel="stylesheet" href="/admin_common/css/main.css">
    <!-- morrisjs CSS
		============================================ -->
    <link rel="stylesheet" href="/admin_common/css/morrisjs/morris.css">
    <!-- mCustomScrollbar CSS
		============================================ -->
   <link rel="stylesheet" href="/admin_common/css/scrollbar/jquery.mCustomScrollbar.min.css">
    <!-- metisMenu CSS
		============================================ -->
    <link rel="stylesheet" href="/admin_common/css/metisMenu/metisMenu.min.css">
    <link rel="stylesheet" href="/admin_common/css/metisMenu/metisMenu-vertical.css">
    <!-- calendar CSS
		============================================ -->
    <link rel="stylesheet" href="/admin_common/css/calendar/fullcalendar.min.css">
    <link rel="stylesheet" href="/admin_common/css/calendar/fullcalendar.print.min.css">
    <!-- style CSS
		============================================ -->
    <link rel="stylesheet" href="/admin_common/style.css">
    <!-- responsive CSS
		============================================ -->
    <link rel="stylesheet" href="/admin_common/css/responsive.css">
    <!-- modernizr JS
		============================================ -->
    <script src="/admin_common/js/vendor/modernizr-2.8.3.min.js"></script>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <style>
  	/* 전체 컨테이너: 좌우로 넓게 확장 */
    .reservation-main-card {
        max-width: 1400px; /* 기존보다 훨씬 넓게 설정 */
        margin: 0 auto;
        background: #ffffff;
        border-radius: 12px;
        overflow: hidden;
        color: #333;
        box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    }

    /* 상단 와이드 배너 */
    .wide-banner {
        width: 100%;
        height: 300px;
        object-fit: cover;
    }

    /* 내부 그리드 레이아웃 */
    .detail-grid-container {
        display: flex;
        flex-wrap: wrap;
        padding: 40px;
        gap: 50px;
    }

    .info-column-left { flex: 1.2; min-width: 400px; }
    .info-column-right { flex: 1; min-width: 350px; border-left: 1px solid #f0f0f0; padding-left: 50px; }

    /* 섹션 타이틀 스타일 (기본 틀 유지) */
    .detail-label {
        font-size: 17px;
        font-weight: 700;
        color: #1b2a47;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 2px solid #8994bc;
        display: block;
    }

    /* 날짜 섹션 (넓게) */
    .stay-period-bar {
        background: #f8faff;
        border-radius: 10px;
        padding: 25px;
        display: flex;
        justify-content: space-around;
        align-items: center;
        margin-bottom: 40px;
        text-align: center;
    }

    /* 정보 행 */
    .info-item { margin-bottom: 25px; }
    .info-item .title { color: #888; font-size: 13px; margin-bottom: 5px; }
    .info-item .content { font-size: 16px; font-weight: 600; color: #222; }

    /* 요청사항 박스 */
    .memo-box {
        background: #fcfcfc;
        border: 1px solid #eef0f5;
        border-radius: 8px;
        padding: 20px;
        font-size: 15px;
        line-height: 1.6;
    }
    
    .reservation-main-card {
        max-width: 1400px;
        margin: 0 auto;
        background: #ffffff;
        border-radius: 12px;
        overflow: hidden;
        color: #333;
        box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    }

    .wide-banner {
        width: 100%;
        height: 250px;
        object-fit: cover;
    }

    /* 상단 영역: 숙박 일정 + 객실 정보 (가로 전체) */
    .top-full-section {
        padding: 40px 40px 20px 40px;
        border-bottom: 1px solid #f0f0f0;
    }

    /* 하단 영역: 좌우 분할 */
    .bottom-grid-container {
        display: flex;
        padding: 20px 40px 40px 40px;
        gap: 50px;
    }

    .info-column-left { flex: 1.2; min-width: 400px; }
    .info-column-right { flex: 1; min-width: 350px; border-left: 1px solid #f0f0f0; padding-left: 50px; }

    .detail-label {
        font-size: 17px;
        font-weight: 700;
        color: #1b2a47;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 2px solid #8994bc;
        display: block;
    }

    /* 숙박 일정 바 수정 */
    .stay-period-bar {
        background: #f8faff;
        border-radius: 10px;
        padding: 20px 40px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
    }

    .info-item { margin-bottom: 20px; }
    .info-item .title { color: #888; font-size: 13px; margin-bottom: 5px; }
    .info-item .content { font-size: 16px; font-weight: 600; color: #222; }

    .memo-box {
        background: #fcfcfc;
        border: 1px solid #eef0f5;
        border-radius: 8px;
        padding: 20px;
        font-size: 15px;
        line-height: 1.6;
    }
    
    
    .text-btn {
  background: none;
  border: none;
  padding: 0;
  margin: 0;
  box-shadow: none;

  color: #2b6cff;       
  font-weight: 600;
  cursor: pointer;
}

.text-btn:hover {
  text-decoration: underline;
}


.center-modal {
  display: flex !important;
  align-items: center;
  justify-content: center;
}

.center-modal .modal-dialog {
  margin: 0;
  max-width: 350px;
}
    
    
   
</style>

<script th:inline="javascript">
$(function(){
$("#confrimBtn").click(function(){
	
	$("#emailFrm").submit();
	
});
	
	
var emailflag = /*[[${emailFlag}]]*/ false;
if (emailflag==true) {
       // 성공 모달 띄우기
       $('#resultModal').modal('show');
   }//end if
   
 


});//ready

	
	
	
		
</script>

</head>

<body>
    <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

    <div th:replace="~{manager/fragments/sidebar :: sidebar}"></div>
    <!-- Start Welcome area -->
    <div class="all-content-wrapper">
        <div class="header-advance-area">
            <div class="breadcome-area">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="breadcome-list" style="margin-left:40px; width:95%; border-radius: 20px;">
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                        <div class="breadcomb-wp" style="color:#ffffff; font-size: 20px">
											<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
												  <path d="M2 21H22" stroke="#2C3E50" stroke-width="2" stroke-linecap="round"/>
												  
												  <path d="M5 21V5C5 3.89543 5.89543 3 7 3H17C18.1046 3 19 3.89543 19 5V21" stroke="#2C3E50" stroke-width="2"/>
												  
												  <path d="M9 7V11M15 7V11M9 9H15" stroke="#3498DB" stroke-width="1.5" stroke-linecap="round"/>
												  
												  <path d="M10 21V18C10 16.8954 10.8954 16 12 16C13.1046 16 14 16.8954 14 18V21" stroke="#2C3E50" stroke-width="1.5"/>
												</svg> <span style="text-align: center;"> &nbsp; 호텔 예약 관리(회원)</span>
										</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container" style="min-height:670px; width:100%; color:#ffffff" th:object="${hotelMemberDetail[0]}">
    <div class="container-fluid" style="min-height:750px; padding: 30px;">
    <div class="reservation-main-card">
    <img src="https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1400&q=80" class="wide-banner" alt="Hotel Banner">

    <div class="top-full-section">
    <span class="detail-label">숙박 일정 및 객실 정보</span>
    <th:block th:each="hotelDetail:${hotelMemberDetail}" th:object="${hotelDetail}"> 
    <div class="stay-period-bar" style="display: flex; align-items: center; justify-content: space-between; padding: 15px 30px;">
        
        <div style="display: flex; align-items: center; gap: 40px; flex: 1;">
            <div style="text-align: left;">
                <small style="color: #8994bc; font-weight: 700; display: block; margin-bottom: 4px;">CHECK-IN</small>
                <h4 style="margin: 0; font-weight: 700; display: inline-block;" th:text="*{startDate}">2025. 07. 22 (화)</h4>
                <span class="badge" style="background:#8994bc; margin-left: 8px;"th:text="*{checkIn}">15:00</span>
            </div>
            
            <div style="margin-top:5	px;  font-size: 16px; font-weight: 800; color: #8994bc; background: #fff; padding: 5px 20px; border-radius: 50px; border: 1px solid #eef0f5; box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);" th:text="|*{stayCount}박|">
                3박
            </div>
            
            <div style="text-align: left;">
                <small style="color: #8994bc; font-weight: 700; display: block; margin-bottom: 4px;">CHECK-OUT</small>
                <h4 style="margin: 0; font-weight: 700; display: inline-block;"th:text="*{endDate}">2025. 07. 25 (금)</h4>
                <span class="badge" style="background:#8994bc; margin-left: 8px;"th:text="*{checkOut}">11:00</span>
            </div>
        </div>

        <div style="display: flex; align-items: center; gap: 20px; padding-left: 30px; border-left: 1px dashed #dce4f5;">
            <div style="text-align: right;">
                <h4 style="margin: 0; font-weight: 700; color: #1b2a47;" th:text="*{roomType}">세미 더블룸 (금연실)</h4>
                
            </div>
            <img th:src="@{/common/images/homepage/{fileName}(fileName=*{roomImg})}" 
                 style="width: 100px; height: 65px; border-radius: 6px;">
        </div>
        
    </div>
     </th:block> 
</div>

    <div class="bottom-grid-container">
        
        <div class="info-column-left">
            <span class="detail-label">예약 관리 정보</span>
            <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                <div class="info-item">
                    <p class="title">예약 번호</p>
                    <p class="content" style="color: #5d87ff; font-size: 18px;" th:text="|No. *{reserveNum}|">REV-20250722-0042</p>
                </div>															
                
            </div>

            <span class="detail-label">고객 요청사항</span>
            <div class="memo-box" th:text="*{reserveMsg}">
                "고층 객실로 배정 부탁드립니다. 조용한 방을 선호합니다. 체크인 시간이 조금 늦어질 수 있습니다."
            </div>
        </div>

        <div class="info-column-right">
            <span class="detail-label">투숙객 정보</span>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div class="info-item">
                    <p class="title">예약자명</p>
                    <p class="content" th:text="*{reserveName}">박OO (Park OO)</p>
                </div>
                <div class="info-item">
                    <p class="title">예약 인원</p>
                    <p class="content" th:text="|성인 *{adultCount}명 / 아동  *{kidCount}명|">성인 2명 / 아동 0명</p>
                </div>
                <div class="info-item">
                    <p class="title">휴대폰</p>
                    <p class="content" th:text="*{tel}">010-4325-2345</p>
                </div>
                <div class="info-item">
                    <p class="title">이메일</p>
                    <p class="content" th:text="*{email}">sist@naver.com </p><input type="button" class="title text-btn" id="emailBtn"  data-toggle="modal" data-target="#emailModal" value="[ 예약 확인서 발송 ]"/>
                   
                </div>
            </div>

             <span class="detail-label" style="margin-top: 45px;">결제 상세 정보</span>
        <div style="background: #f8faff; padding: 25px; border-radius: 10px; color: #1b2a47; border: 1px solid #eef0f5;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px; opacity: 0.8;">
                <span style="font-weight: 500;">결제 일시</span>
                <span style="font-weight: 600;" th:text="*{payInfoInputDate}">2025. 05. 15 14:32</span>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px; opacity: 0.8;">
                <span style="font-weight: 500;">결제 수단 (카드번호)</span>
                <span style="font-weight: 600;" th:text="|*{payAgency} (*{#strings.substring(cardData,0,4)}-*{#strings.substring(cardData,4,8)}-*{#strings.substring(cardData,8,12)}-*{#strings.substring(cardData,12,16)})|" >신한카드 (4518-****-****-1234)</span>
            </div>
            <hr style="border-top: 1px dashed #dce4f5; margin: 15px 0;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px; opacity: 0.8;">
                <span style="font-weight: 500;">객실 요금</span>
                <span style="font-weight: 500;" th:text="|*{#numbers.formatInteger(roomPrice,3,'COMMA')} 원|">1,100,000원</span>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 15px; opacity: 0.8;">
                <span style="font-weight: 500;">세금 및 봉사료</span>
                <span style="font-weight: 500;" th:text="|*{#numbers.formatInteger(roomTax,3,'COMMA')} 원|">100,000원</span>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; border-top: 1px solid #dce4f5; padding-top: 15px; margin-top: 15px;">
                <span style="font-size: 15px; font-weight: 600;">총 결제금액</span>
                
        	<th:block th:if="*{reserveFlag =='N'}">
                <span style="font-size: 24px; font-weight: 800; color: #1b2a47;" th:text="|*{#numbers.formatInteger(totalPrice,3,'COMMA')} KRW|">1,200,000 KRW</span>
            </th:block>
        	<th:block th:unless="*{reserveFlag =='N'}">
                <span style="font-size: 24px; font-weight: 800; color: #aaa;text-decoration:line-through;" th:text="|*{#numbers.formatInteger(totalPrice,3,'COMMA')} KRW|">1,200,000 KRW</span>
            </th:block>
            
            </div>
        </div>
        </div>
    </div>
</div>

    <div style="text-align: center; margin-top: 40px;">
        <button type="button" class="btn" 
				th:onclick="location.href='/admin/hotelMember/?currentPage=' + [[${param.currentPage!=null?param.currentPage[0] : 1}]] + '&field=' + [[${param.field!=null?param.field[0]:''}]] + '&keyword=' + [[${param.keyword!=null?param.keyword[0]:'N/A'}]] "
                style="background: #8994bc; color: #fff; width: 180px; height: 45px; border-radius: 8px; font-weight: 600; box-shadow: 0 4px 10px rgba(137, 148, 188, 0.3);">
            리스트
        </button>
    </div>
</div>
</div>
       
      <div th:replace="~{manager/fragments/footer :: footer}"></div>
        
    </div>
    
    
    
     <div class="modal fade" id="emailModal" tabindex="-1" role="dialog" aria-hidden="true" style="margin-top: 320px;">
            <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: 350px;">
                <div class="modal-content" style="background: #1b2a47; color: #fff; border-radius: 12px; border: 1px solid #344463;">
                    <div class="modal-body" style="padding: 30px; text-align: center;">
                        <h4 style="margin-bottom: 20px; font-weight: 600;">이메일을 발송할까요?</h4>
                        <div style="display: flex; gap: 10px; justify-content: center;">
                            <input type="button" value="아니오" class="btn" data-dismiss="modal" style="background: #344463; color: #fff; width: 100px;">
                            <input type="button" id="confrimBtn" value="확인" class="btn"  style="background: #f19b9b; color: #fff; width: 100px; font-weight: bold;">
                       		
                       
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
          <div class="modal fade" id="resultModal" tabindex="-1" role="dialog" aria-hidden="true" style="margin-top: 320px;">
            <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: 350px;">
                <div class="modal-content" style="background: #1b2a47; color: #fff; border-radius: 12px; border: 1px solid #344463;">
                    <div class="modal-body" style="padding: 30px; text-align: center;">
                        <h4 style="margin-bottom: 20px; font-weight: 600;"th:text="${msg}">이메일을 발송할까요?</h4>
                        <div style="display: flex; gap: 10px; justify-content: center;">
                            <input type="button" value="확인" class="btn" data-dismiss="modal" style="background: #344463; color: #fff; width: 100px;">
                        </div>
                    </div>
                </div>
            </div>
        </div> 
        
        
        <form th:action="@{/admin/hotelMember/sendReserveEmail}" method="post" id="emailFrm">
		    <input type="hidden" name="reserveNum" th:value="${hotelMemberDetail[0].reserveNum}">
		    <input type="hidden" name="reserveType" value="room">
		</form>
    <!-- jquery
		============================================ -->
    <script src="/admin_common/js/vendor/jquery-1.12.4.min.js"></script>
    <!-- bootstrap JS
		============================================ -->
    <script src="/admin_common/js/bootstrap.min.js"></script>
    <!-- wow JS
		============================================ -->
    <script src="/admin_common/js/wow.min.js"></script>
    <!-- price-slider JS
		============================================ -->
    <script src="/admin_common/js/jquery-price-slider.js"></script>
    <!-- meanmenu JS
		============================================ -->
    <script src="/admin_common/js/jquery.meanmenu.js"></script>
    <!-- owl.carousel JS
		============================================ -->
    <script src="/admin_common/js/owl.carousel.min.js"></script>
    <!-- sticky JS
		============================================ -->
    <script src="/admin_common/js/jquery.sticky.js"></script>
    <!-- scrollUp JS
		============================================ -->
    <script src="/admin_common/js/jquery.scrollUp.min.js"></script>
    <!-- mCustomScrollbar JS
		============================================ -->
    <script src="/admin_common/js/scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
    <script src="/admin_common/js/scrollbar/mCustomScrollbar-active.js"></script>
    <!-- metisMenu JS
		============================================ -->
    <script src="/admin_common/js/metisMenu/metisMenu.min.js"></script>
    <script src="/admin_common/js/metisMenu/metisMenu-active.js"></script>
    <!-- sparkline JS
		============================================ -->
    <script src="/admin_common/js/sparkline/jquery.sparkline.min.js"></script>
    <script src="/admin_common/js/sparkline/jquery.charts-sparkline.js"></script>
    <!-- calendar JS
		============================================ -->
    <script src="/admin_common/js/calendar/moment.min.js"></script>
    <script src="/admin_common/js/calendar/fullcalendar.min.js"></script>
    <script src="/admin_common/js/calendar/fullcalendar-active.js"></script>
	<!-- float JS
		============================================ -->
    <script src="/admin_common/js/flot/jquery.flot.js"></script>
    <script src="/admin_common/js/flot/jquery.flot.resize.js"></script>
    <script src="/admin_common/js/flot/curvedLines.js"></script>
    <script src="/admin_common/js/flot/flot-active.js"></script>
    <!-- plugins JS
		============================================ -->
    <script src="/admin_common/js/plugins.js"></script>
    <!-- main JS
		============================================ -->
     <script src="js/main.js"></script>
</body>
</html>