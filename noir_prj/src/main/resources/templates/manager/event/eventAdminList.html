<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<title>이벤트 관리</title>

<style>
  body { margin:0; background:#0f1b2d; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:#e8eefb; }

  .all-content-wrapper { display:flex; min-height:100vh; }
  .content-area { flex:1; padding:28px 24px; }

  .panel {
    background: rgba(24, 40, 64, 0.85);
    border-radius: 18px;
    padding: 18px 18px 16px;
    box-shadow: 0 8px 20px rgba(0,0,0,.22);
  }
  .panel-title { font-size:18px; font-weight:700; margin: 4px 6px 14px; }

  /* 검색 */
  .toolbar { display:flex; align-items:center; gap:8px; margin: 0 6px 10px; }
  .toolbar select, .toolbar input {
    height: 28px;
    border-radius: 4px;
    border: 1px solid rgba(232,238,251,.35);
    background: rgba(255,255,255,.06);
    color:#e8eefb;
    padding: 0 8px;
    outline: none;
    font-size: 12px;
  }
  .toolbar button {
    height: 28px;
    border-radius: 4px;
    border: 1px solid rgba(232,238,251,.35);
    background: rgba(255,255,255,.10);
    color:#e8eefb;
    padding: 0 10px;
    cursor:pointer;
    font-size: 12px;
  }

  /* 테이블 */
  .table-wrap { border: 2px solid rgba(173, 185, 255, .55); padding: 12px; }
  table { width:100%; border-collapse: collapse; background: rgba(255,255,255,.96); color:#0f1b2d; }
  thead th {
    font-size: 12px;
    padding: 10px 8px;
    border-bottom: 1px solid rgba(15,27,45,.15);
    background: #f6f8ff;
    text-align: center;
  }
  tbody td {
    font-size: 12px;
    padding: 12px 8px;
    border-bottom: 1px solid rgba(15,27,45,.10);
    text-align: center;
  }
  tbody tr:hover { background: rgba(220,230,255,.35); }
  .td-title { text-align:left; padding-left: 16px; }
  .td-title a { color:#0f1b2d; text-decoration:none; font-weight:600; }
  .td-title a:hover { text-decoration: underline; }

  /* 페이징 + 등록 버튼 */
  .bottom-bar { display:flex; align-items:center; justify-content: space-between; margin-top: 10px; }
  .pagination { flex:1; text-align:center; font-size: 12px; color:#e8eefb; }
  .pagination a { color:#e8eefb; text-decoration:none; padding: 0 2px; }
  .pagination .currentPage { font-weight:800; text-decoration: underline; }

  .btn-add {
    border-radius: 6px;
    border: 1px solid rgba(232,238,251,.40);
    background: rgba(255,255,255,.12);
    color:#e8eefb;
    padding: 7px 14px;
    cursor:pointer;
    font-size: 12px;
  }
</style>
</head>

<body>
  <div class="all-content-wrapper">
    <!-- <th:block th:replace="~{/manager/include/sidebar :: sidebar}"></th:block> -->

    <div class="content-area">
      <div class="panel">
        <div class="panel-title">이벤트 관리</div>

        <!-- 검색 -->
        <form class="toolbar" method="get" th:action="@{/event/eventAdminList}">
          <select name="field">
            <option value="1" th:selected="${range != null and range.field == '1'}">제목</option>
            <option value="2" th:selected="${range != null and range.field == '2'}">내용</option>
            <option value="3" th:selected="${range != null and range.field == '3'}">부제목</option>
          </select>

          <input type="text" name="keyword" placeholder="검색어"
                 th:value="${range != null ? range.keyword : ''}" />

          <button type="submit">검색</button>
        </form>

        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th style="width:10%;">번호</th>
                <th style="width:35%;">제목</th>
                <th style="width:25%;">이벤트 기간</th>
                <th style="width:15%;">작성자</th>
                <th style="width:15%;">등록일</th>
              </tr>
            </thead>

            <tbody>
              <tr th:if="${eventList == null or #lists.isEmpty(eventList)}">
                <td colspan="5">등록된 이벤트가 없습니다.</td>
              </tr>

              <tr th:each="e : ${eventList}">
                <td th:text="${listNum--}">1</td>

                <!-- ✅ 선택(제목 클릭) → 수정 폼으로 이동 -->
                <td class="td-title">
                  <a th:href="@{/event/modifyAdminEventFrm(eventNum=${e.eventNum})}"
                     th:text="${e.eventTitle}">이벤트 제목</a>
                </td>

                <td>
                  <span th:text="${e.eventStartDate}"></span>
                  ~
                  <span th:text="${e.eventEndDate}"></span>
                </td>

                <td th:text="${e.adminNum}">ADMIN</td>
                <td th:text="${e.eventDate}">25.05.23</td>
              </tr>
            </tbody>
          </table>

          <div class="bottom-bar">
            <div class="pagination" th:utext="${pagination}"></div>

            <a th:href="@{/event/addAdminEventFrm}">
              <button type="button" class="btn-add">등록하기</button>
            </a>
          </div>
        </div>

      </div>

      <!-- <th:block th:replace="~{/manager/include/footer :: footer}"></th:block> -->
    </div>
  </div>
</body>
</html>