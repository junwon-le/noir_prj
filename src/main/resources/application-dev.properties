   spring.application.name=noir_prj

# --- ThymeleafViewResolver 설정 ---
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.cache=false

# --- 서버 및 세션 설정 ---
server.port=8081
server.servlet.session.timeout=60m

# --- 파일업로드 설정 ---
spring.servlet.multipart.enabled=true
spring.servlet.multipart.location=/upload
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=100MB

# 업로드 디렉토리 설정
user.upload-dir=c:/dev/workspace/noir_prj/src/main/resources/static/common/images/homepage/

# --- 인터셉터 경로 설정 ---

#user.loginFrm=classpath:/login/memberLogin
user.loginFrm=/login/memberLogin
user.addPath=/reserve/roomReserve,/dinningRes/dinningReserve,/member/**,/reserve/pending,/mypage/**
user.excludePath=/member/joinFrm,/member/joinProcess,/member/loginFrm,/member/loginProcess,/oauth2/**,/login/oauth2/**

#admin.loginFrm=classpath:/adminLogin
admin.loginFrm=/adminLogin
admin.addPath=/admin/**
admin.excludePath=/,/login,/join

# --- DB 설정 (환경 변수 사용) ---
# --- DB 설정 (환경 변수 사용) ---
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}


# --- MyBatis 설정 ---
mybatis.mapper-locations=classpath:mapper/**/*.xml
mybatis.type-aliases-package=kr.co.noir, kr.co.noir.login, kr.co.noir.mypage, kr.co.noir.mypageInfo, kr.co.noir.dashboard, kr.co.noir.adminDinningReserve, kr.co.noir.dinningReserve
mybatis.configuration.map-underscore-to-camel-case=true
mybatis.configuration.jdbc-type-for-null=NULL

# --- 암호화 및 보안 설정 (환경 변수 사용) ---
user.crypto.key=${USER_CRYPTO_KEY}
user.crypto.salt=${USER_CRYPTO_SALT}

# --- Gmail SMTP 설정 (환경 변수 사용) ---
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${SPRING_MAIL_USERNAME}
spring.mail.password=${SPRING_MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# --- Kakao Login ---
# 환경 변수로부터 값을 읽어옵니다.
spring.security.oauth2.client.registration.kakao.client-id=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_KAKAO_CLIENT_ID}
spring.security.oauth2.client.registration.kakao.client-secret=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_KAKAO_CLIENT_SECRET}

# [필수] 카카오 토큰 요청 시 바디에 정보를 담도록 설정 (Spring Security 6 필수)
spring.security.oauth2.client.registration.kakao.client-authentication-method=client_secret_post
spring.security.oauth2.client.registration.kakao.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.kakao.redirect-uri=http://localhost:8081/login/oauth2/code/kakao
spring.security.oauth2.client.registration.kakao.scope=profile
spring.security.oauth2.client.registration.kakao.client-name=Kakao
# Provider 설정 (오타 주의)
spring.security.oauth2.client.provider.kakao.authorization-uri=https://kauth.kakao.com/oauth/authorize
spring.security.oauth2.client.provider.kakao.token-uri=https://kauth.kakao.com/oauth/token
spring.security.oauth2.client.provider.kakao.user-info-uri=https://kapi.kakao.com/v2/user/me
spring.security.oauth2.client.provider.kakao.user-name-attribute=id

# --- Google Login (환경 변수 사용) ---
spring.security.oauth2.client.registration.google.client-id=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_GOOGLE_CLIENT_SECRET}
# 구글 클라우드 콘솔에 등록할 리다이렉트 URI와 일치시킴
spring.security.oauth2.client.registration.google.redirect-uri=http://localhost:8081/login/oauth2/code/google
spring.security.oauth2.client.registration.google.scope=profile,email
spring.security.oauth2.client.registration.google.client-name=Google

# --- Naver Login ---
spring.security.oauth2.client.registration.naver.client-id=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_NAVER_CLIENT_ID}
spring.security.oauth2.client.registration.naver.client-secret=${SPRING_SECURITY_OAUTH2_CLIENT_REGISTRATION_NAVER_CLIENT_SECRET}
# [중요] 네이버 개발자 센터의 Callback URL과 반드시 일치해야 함
spring.security.oauth2.client.registration.naver.redirect-uri=http://localhost:8081/login/oauth2/code/naver
spring.security.oauth2.client.registration.naver.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.naver.scope=name,email,profile_image
spring.security.oauth2.client.registration.naver.client-name=Naver
# --- Naver Provider 설정 (필수 추가) ---
spring.security.oauth2.client.provider.naver.authorization-uri=https://nid.naver.com/oauth2.0/authorize
spring.security.oauth2.client.provider.naver.token-uri=https://nid.naver.com/oauth2.0/token
spring.security.oauth2.client.provider.naver.user-info-uri=https://openapi.naver.com/v1/nid/me
# 네이버 응답값의 최상위 계층인 'response'를 지정해야 함
spring.security.oauth2.client.provider.naver.user-name-attribute=response

# JMX 리소스 충돌 방지 (DevTools 재시작 에러 해결)
spring.application.admin.enabled=false
spring.jmx.enabled=false

#JPA 설정
#Oracle 쿼리를 사용하기 위한 설정
spring.jpa.database-platform=org.hibernate.dialect.OracleDialect
#실행되는 쿼리문 확인
spring.jpa.show-sql=true


#예약 메일 발송
brevo.mail.host=smtp-relay.brevo.com
brevo.mail.port=587
brevo.mail.username=a26094001@smtp-brevo.com
brevo.mail.password=DtJzscQ7GBp2RVFK

