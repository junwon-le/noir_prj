<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>마이페이지</title>


<link rel="stylesheet" type="text/css" href="/common/css/homepage/base.css">
<link rel="stylesheet" type="text/css" href="/common/css/homepage/style.css?v=0312">
<link rel="stylesheet" type="text/css" href="/common/css/homepage/sub.css?v=0312">
<!-- jQeury CDN 시작 -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="/common/js/comm/jquery.bxslider.js"></script>
<script src="/common/js/homepage/jquery.rwdImageMaps.min.js"></script>
<script src="/common/js/homepage/jquery.accessibility.modal.js"></script>
<script src="/common/js/comm/jquery.cookie.js"></script>
<script src="/common/js/homepage/plugin.js"></script>
<script src="/common/js/homepage/custom.js"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<style type="text/css">
html{
	background-color: #181818;

}

  body {
            background-color: #181818;
            color: #ffffff;
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif;
            padding: 95px 0;
        }
.subject
{
color:white;
text-decoration: none;
}


.main-sub > ul > li > a {
	text-decoration: none;
}


.info > ul > li > a {
	
	color:white;
	text-decoration: none;
}
.info > ul > li {
	list-style:none;
}

.footer_bot{
padding:0px;
}

.container{
margin-top :160px;
height:auto;

}

  body {
            background-color: #181818;
            color: #ffffff;
            font-family: 'Pretendard', sans-serif;
            padding: 60px 0;
        }

        /* [핵심] 왼쪽/오른쪽 전체 높이를 통일시키는 컨테이너 */
        .equal-height-row {
            display: flex;
            align-items: stretch; 
        }

        /* 사이드바 스타일 (하단까지 꽉 차게) */
        .sidebar {
            background-color: #000000;
            padding: 25px;
            border-radius: 10px;
            border: 1px solid #2a2a2a;
            height: auto;
            display: flex;
            flex-direction: column;
        }

        /* 컨텐츠 래퍼 (오른쪽 섹션들 묶음) */
        .main-content-wrapper {
            display: flex;
            flex-direction: column;
            gap: 25px;
            height: auto;
        }

        .content-section {
            background: #111111;
            border: 1px solid #2a2a2a;
            padding: 35px;
            border-radius: 10px;
        }

        /* 마지막 섹션이 남은 공간을 채워 하단 라인을 맞춤 */
        .flex-fill-section {
            flex-grow: 1;
        }

        /* 사이드바 내부 UI */
        .mypage-title { border: 1px solid #c5a47e; padding: 20px; margin-bottom: 35px; text-align: center; }
        .mypage-title h2 { font-size: 1.1rem; letter-spacing: 2px; margin: 0; }
        .mypage-title p { font-size: 1.2rem; margin-top: 10px; font-weight: bold; }

        .menu-group { margin-bottom: 25px; }
        .menu-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        .header-content { display: flex; align-items: center; font-size: 0.95rem; font-weight: 500; line-height: 1; }
        .icon-wrapper { width: 22px; height: 22px; margin-right: 8px; display: flex; align-items: center; justify-content: center; }
        .icon-wrapper svg { stroke: #c5a47e; }

         .menu-group>.menu-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; color: #888; text-decoration: none; font-size: 0.85rem; border-bottom: 1px solid #151515; }
        .menu-item:hover { color: #c5a47e; }
        .badge-outline { border: 1px solid #c5a47e; color: #c5a47e; padding: 1px 8px; font-size: 0.65rem; border-radius: 12px; }

        /* 카드 및 이벤트 UI */
        .summary-card { background: #1a1a1a; border: 1px solid #2a2a2a; padding: 22px; display: flex; align-items: center; justify-content: space-between; text-decoration: none; color: #fff; border-radius: 4px; }
        .icon-circle { width: 48px; height: 48px; background: #000; color: #c5a47e; border: 1px solid #2a2a2a; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 18px; }
        
        .event-card img { width: 100%; height: 180px; object-fit: cover; border-radius: 4px; margin-bottom: 15px; border: 1px solid #2a2a2a; }
        .event-card h6 { font-weight: bold; color: #fff; margin-bottom: 5px; }
        .event-period { font-size: 0.75rem; color: #666; }
        
   /* 다크 톤 맞춤형 스타일 */
    .thumb-img-wrapper {
        position: relative;
        height: 80px; /* 크기를 작게 조절 */
        border-radius: 2px;
        overflow: hidden;
        border: 1px solid #2a2a2a;
        background: #000;
    }
    
    .thumb-img-wrapper img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0.4; /* 이미지를 어둡게 처리하여 톤 유지 */
        transition: 0.4s;
    }

    .thumb-overlay {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .thumb-overlay span {
        color: #fff;
        font-size: 0.65rem;
        font-weight: bold;
        letter-spacing: 1px;
        border-bottom: 1px solid #c5a47e;
        padding-bottom: 2px;
    }

    /* 호버 시 톤 변화 */
    .facility-thumb-card:hover img {
        opacity: 0.7;
        transform: scale(1.1);
    }
    .facility-thumb-card:hover .thumb-img-wrapper {
        border-color: #c5a47e;
    }
    
    .summary-card:hover{
    	 border-color: #c5a47e;
    
    }
    
    
    .siteBorder>event-card:hover{
    	 border-color: #c5a47e;
    
    }
    
    .siteBorder{
    	text-decoration: none;
    
    }
    .menu-item.menuCilck{
    	
    	color: #c5a47e;
    
    }
    .footer-title{
    
    	margin-top: 5px;
    }


	.main-content{
	
		width: 100%;
		height:auto;
		border-radius:10px;
		background-color: black;
	
	}
	
	
/* 메인 콘텐츠 영역: 배경은 완전한 블랙, 패딩은 정갈하게 */
.main-content {
    background-color: #000000 !important;
    padding: 60px 50px;
    height: auto !important;
    display: flex;
    flex-direction: column;
}

/* 헤더: 텍스트 크기를 줄이고 간결하게 */
.edit-header {
/* border-bottom: 1px solid #1a1a1a; */
    border-bottom: 1px solid #888; 
    padding-bottom: 15px;
    margin-bottom: 50px;
}

.edit-header h3 {
    font-size: 1.15rem;
    font-weight: 500;
    letter-spacing: 0.5px;
    color: #efefef; 
}

.edit-header span {
    color: #c5a47e;
    font-size: 0.75rem;
    margin-left: 10px;
    font-weight: 300;
}

/* 폼 레이아웃: 라벨과 입력창의 간결한 배치 */
.form-group-custom {
    margin-bottom: 25px;
}

.label-custom {
    display: block;
    font-size: 0.8rem;
/* color: #888; */
    color: white; 
    margin-bottom: 10px;
    font-weight: 400;
}

.label-custom i {
    color: #c5a47e;
    margin-left: 2px;
}

/* 입력창 디자인: 더 얇은 테두리와 다크한 배경 */
.input-custom {
    background-color: #000000 !important;
    border: 1px solid #2a2a2a !important; 
    color: #ffffff !important;
    padding: 10px 12px !important;
    font-size: 0.85rem !important;
    height: 42px;
}

.input-custom:focus {
    border-color: #c5a47e !important;
    box-shadow: none !important;
}

/* 복합 입력창 정렬 */
.input-flex {
    display: flex;
    align-items: center;
    gap: 10px;
}

.input-flex span { color: #555; font-size: 0.8rem; }

/* 버튼 영역: 우측 정렬 및 슬림한 버튼 */
.btn-group-custom {
    display: flex;
    justify-content: flex-end; /* 오른쪽 맞춤 */
    gap: 10px;
    margin-top: 50px;
    padding-top: 30px;
    border-top: 1px solid #aaa	; /* 버튼 위 구분선 추가 */
}

.btn-submit {
    background-color: #c5a47e;
    color: #000;
    border: 1px solid #c5a47e;
    padding: 10px 40px;
    font-weight: 600;
    font-size: 0.85rem;
    transition: 0.3s;
}

.btn-submit:hover {
    background-color: black;
    color:#c5a47e;
    border: 1px solid #c5a47e;
}

.btn-cancel {
    background-color: transparent;
    color: #888;
    border: 1px solid #2a2a2a;
    padding: 10px 40px;
    font-weight: 400;
    font-size: 0.85rem;
    transition: 0.3s;
}

.btn-cancel:hover {
    border-color: #aaaaaa;
    color: #aaaaaa;
}

.form-control.input-custom{
	border-radius: 10px;

}

 .menu-group>.menu-item.now_page{
        
        	color:#FFFFFF;
        
        }
.badge-outline.now_page_icon{
        	color: black;
        	background-color: #c5a47e;
        	font-weight: bold;
        
        }
        
        
.input-custom::placeholder {
    color: #888;
}  

input[type="date"]::-webkit-calendar-picker-indicator {
    /* 아이콘 색상을 흰색으로 변경 */
    filter: invert(100%) brightness(100%);
    
    /* (선택) 마우스 올렸을 때 포인터 변경 */
    cursor: pointer;
}



 /* 신규 모달 전용 스타일 */
        .hotel-modal-content {
            background-color: #1a1a1a !important;
            border: 1px solid #c5a47e !important;
            border-radius: 0 !important;
        }
        .hotel-modal-header {
            border-bottom: 1px solid #2a2a2a !important;
        }
        .hotel-modal-title {
            color: #c5a47e !important;
            font-size: 1rem !important;
            letter-spacing: 2px;
        }
        .hotel-modal-body {
            color: #ffffff !important;
            text-align: center;
            padding: 40px 20px !important;
        }
        .hotel-modal-footer {
            border-top: 1px solid #2a2a2a !important;
            justify-content: center !important;
        }
        .hotel-modal-btn {
            background-color: #c5a47e !important;
            color: #000 !important;
            border-radius: 0 !important;
            padding: 8px 40px !important;
            font-weight: bold !important;
        }
        
        
       a{
       	text-decoration: none;
       }
       
       
            .menu-group>.menu-item.now_page{
        
        	color:#FFFFFF;
        
        }
.badge-outline.now_page_icon{
        	color: black;
        	background-color: #c5a47e;
        	font-weight: bold;
        
        }
    
</style>

<div class="wrapper">
    <div id="popIframe" class="popup_rsvn">
        <iframe name="popupIframe" id="popupIframe" src="" width="100%" height="100%" scrolling="no" visible="true" frameborder="0"></iframe>
		<a href="#" class="btn_pop_close">X</a>
    </div>
</div>
<a href="#popIframe" class="open_modal" url="/view/roomReservationStep2.do" id="rsvnLayer" style="display:none;"></a>

<script>
var CONTEXT = '';
$(function(){
     $('.open_modal').click(function(e) {    	
        $("iframe").attr("src", $(this).attr('url')).show();        	
        e.preventDefault();
    }); 
     
     $("#tel").on("input", function(){

    	    let num = $(this).val().replace(/[^0-9]/g, "");

    	    if(num.length <= 3){
    	        $(this).val(num);
    	    }
    	    else if(num.length <= 7){
    	        $(this).val(num.replace(/(\d{3})(\d+)/, "$1-$2"));
    	    }
    	    else{
    	        $(this).val(num.replace(/(\d{3})(\d{3,4})(\d+)/, "$1-$2-$3"));
    	    }
    	});

    // 도메인 선택 시 입력창에 값 세팅 로직
    $('#emailDomainSelect').change(function() {
    	var domainSelect = $('#emailDomainSelect')[0];
    	
        if (domainSelect.selectedIndex!=0) {
            $('#emailDomain').val($('#emailDomainSelect').val());
        } else {
            $('#emailDomain').val('').focus();
        }

    });//change
    
    
    function showHotelAlert(msg) {
        $('#hotelModalBody').html(msg);
        var hotelModal = new bootstrap.Modal(document.getElementById('hotelNotifyModal'));
        hotelModal.show();
    }
    
    $("#btn").click(function(){
    	
    	var frm=$("#frm");
    	var birth=$("#birth").val();
    	var tel=$("#tel").val();
    	var email =$("#email").val()+"@"+$("#emailDomain").val();
    /* 	var reg= [/^[가-힣]{1,2}$/,/^[가-힣]{1,3}$/,/^(010)(\d{4})(\d{4})$/,/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,/^[0-9]{4}-?([0-9]{2})-?([0-9]{2})$/]; */
    	
    	var reg= [/^[가-힣]{1,2}$/,/^[가-힣]{1,3}$/,/^(010)-?(\d{4})-?(\d{4})$/,/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,/^[0-9]{4}-?([0-9]{2})-?([0-9]{2})$/];
    	
    
    	
    	if(tel.trim()===""||!reg[2].test(tel)){
    		showHotelAlert("전화번호를 올바르게 입력해주세요."); 
    		return;
    	}
    	
    	if(birth.trim()===""||!reg[4].test(birth)){
    		showHotelAlert("생년월일을 입력해주세요"); 
    		return;
    	}
    	
    	if(email.trim()===""||!reg[3].test(email)){
    		showHotelAlert("이메일 주소를 확인해주세요."); 
    		return;
    	}
    	
    	  $("#emailFull").val(email);
    	
    	frm.submit();

    });
    
    

});

</script>

</head>

<body>
<header>
    <th:block th:replace="~{fragments/header :: header}"></th:block>
</header>

<div class="container">
    <div class="row equal-height-row g-4">
         <th:block th:replace="~{fragments/myPageSideBar :: myPageSideBar}"></th:block>
    
    
    
    
     <div class="col-lg-9">
            <div class="main-content-wrapper">
                <div class="main-content">
    <div class="edit-header">
        <h3>회원정보수정 <span><sup>*</sup> 필수 입력 항목입니다</span></h3>
    </div>

    <form id="frm" action="/mypage/info/memberModityProcess" method="post" th:object="${miDomain}">
        <div class="form-group-custom" >
            <label class="label-custom" >이름<sup><i>*</i></sup></label>
            <div style="max-width: 300px; display: flex">
                <input type="text" name="memberLastName" id="lastName" class="form-control input-custom" style="margin-right: 15px;" th:value="*{lastName}" placeholder="last_name" maxlength="5" readonly="readonly">
                <input type="text" name="memberFirstName" id="firstName" class="form-control input-custom" th:value="*{firstName}" placeholder="first_name" maxlength="5" readonly="readonly">
            </div>
             
        </div>

        <div class="form-group-custom">
            <label class="label-custom">전화번호<sup><i>*</i></sup></label>
            <div style="max-width: 300px;">
                <input type="text" name="memberTel" id="tel" class="form-control input-custom" th:value="*{tel}" placeholder="전화번호를 입력해 주세요." maxlength="13">
            </div>
        </div>

        <div class="form-group-custom">
            <label class="label-custom">생년월일</label>
            <div style="max-width: 300px;">
                <input type="date" class="form-control input-custom" id="birth" name="memberBirth" th:value="*{birth}">
            </div>
        </div>

        <div class="form-group-custom">
            <label class="label-custom">이메일<sup><i>*</i></sup></label>
            <div class="input-flex" style="max-width: 650px;">
                <input type="text" id="email" name="email" th:value="*{emailIdStr}" class="form-control input-custom" style="flex: 1.2;" placeholder="이메일 주소" maxlength="20">
                <span>@</span>
                
                <input type="text" id="emailDomain" name="emailDomain" th:value="*{emailDomain}" class="form-control input-custom" style="flex: 1;" placeholder="도메인 입력">
           
                <select id="emailDomainSelect" class="form-select input-custom" style="flex: 1;">
                    <option selected value="N/A">직접입력</option>
                    <option value="naver.com">naver.com</option>
                    <option value="gmail.com">gmail.com</option>
                    <option value="daum.net">daum.net</option>
                    <option value="nate.com">nate.com</option>
                    <option value="hotmail.com">hotmail.com</option>
                </select>
                
            </div>
        </div>

        <div class="btn-group-custom">
        	<input type="button" value="취소" class="btn btn-cancel" onclick="history.back()"/>
        	<input type="button" value="수정 완료" class="btn btn-submit" id="btn"/>
 <!--            <button type="button" class="btn btn-cancel" onclick="history.back();">취소</button>
            <button type="submit" class="btn btn-submit">수정 완료</button> -->
        </div>
        <input type="hidden" name="memberEmail" id="emailFull">
    </form>
</div>
                    
     </div>               
                    
             </div>

    </div>
</div>

<div class="modal fade" id="hotelNotifyModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content hotel-modal-content">
            <div class="modal-header hotel-modal-header">
                <h5 class="modal-title hotel-modal-title">NOTICE</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body hotel-modal-body" id="hotelModalBody">
                </div>
            <div class="modal-footer hotel-modal-footer">
                <button type="button" class="btn hotel-modal-btn" data-bs-dismiss="modal">확인</button>
            </div>
        </div>
    </div>
</div>

<footer>
    <th:block th:replace="~{fragments/footer :: footer}"></th:block>
</footer>
   <div id="privacy-layer">
        <div th:replace="~{fragments/privacy :: privacy}"></div>
    </div>
<script type="text/javascript" src="/common/js/comm/jquery.validate.js"></script>
<script type="text/javascript" src="/common/js/comm/wings.core.js"></script>
<script type="text/javascript" src="/common/js/comm/PAGING_HOMEPAGE.js"></script>
<script type="text/javascript" src="/common/js/comm/kendo.web.min.js"></script>

</body>
</html>